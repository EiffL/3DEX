===================
 3DEX version 1.0
===================

3DEX is a Fortran package providing programs and functions 
to perform fast Fourier-Bessel decomposition of 3D fields.

It is distributed in the hope that it will be useful, 
but without any warranty. See the GNU General Public 
License for more details.

Please contact the authors if you have any question, 
demand or proposal of new features.

AUTHORS 
-------------------
 Boris Leistedt (boris.leistedt@gmail.com)
 FranÃ§ois Lanusse (francois.lanusse@gmail.com)

REQUIREMENTS 
-------------------
 CFITSIO
 LAPACK and BLAS
 HEALPIX

INSTALLATION - HEALPIX-LIKE
-------------------
 Please run the ./configure command.
 It will edit the 'Makefile'
 Then, run 'make' as usual
 'make clean' to delete .o files
 'make tidy' and 'make distclean' to uninstall
 
INSTALLATION WITH CMAKE
-------------------
  'export CFITSIO=/usr/local/lib' to locate cfitsio library (libcfitsio.a)
  'export HEALPIX=/Users/silver/software/Healpix_2.20a'  to locate Healpix (Fortran build)
  'export LAPACK=/usr/local/lib' to locate LAPACK
  'mkdir build' to create a temporary directory (name doesn't matter)
  'cd build' to use the correct path
  'cmake ..' to launch cmake in the main project root directory
  'make' to compile and build the F90 tree, libraries and executables
  'make install' to install programs, modules and the library in /bin, /include and /lib

NOTE
-------------------
  The library architecture and the installation scripts
  are directly inspired by the HEALPix package, 
  which is under CeCILL license.

AVAILABLE FEATURES
-------------------
 > survey2almn
    Fourier-Bessel decomposition from a raw survey/sample (normal mode)
    Test: bin/survey2almn res/horizon_005_60k.txt out/almn.fits out/cln.fits 20 20 256 2000.0
    
 > survey2almn_lm
    Fourier-Bessel decomposition from a raw survey/sample (slower, but low-memory requirements. Suitable for Nside>1024)
    Test: bin/survey2almn_lm res/horizon_005_60k.txt out/almn.fits out/cln.fits 20 20 256 2000.0
 
 > survey2almn_interactive 
    Interactive Fourier-Bessel decomposition (with redshift to distance conversion using fiducial)
    Test: bin/survey2almn_interactive res/parameters.txt (and just type test/2mrs30.out)
 
 > almn2rmap
    Extract FB decomposition from .fits file and reconstructs the smoothed field at given distance
    Test: bin/almnfile2rmap out/almn.fits map.fits 400.0 256 20 20 2000.0
 
 > almn2cln
 	Extract FB decomposition from .fits file, compute the spectrum and exports .fits
 	Test: bin/almn2cln out/almn.fits out/cln.fits 20 20

 > compute_qml_pl
 	Computes Pl matrices for PCL and QML estimators and store it in .fits
 	Test: bin/compute_qml_pl qml_16_16_ring.fits 16 16 RING
 	
 > compute_qln
 	Computes qln zeros of the Bessel functions and store it in .fits
 	Test: bin/compute_qln out/qln_10_10.fits 10 10
 	
 > compute_legen_plm
 	Computes Plm legendre coefficients for Healpix map and store it in .fits
 	Test: bin/compute_legen_plm plm_16_16.fits 16 16